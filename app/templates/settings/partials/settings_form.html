<div class="p-6 overflow-y-auto flex-1 modal-scroll-content" style="max-height: calc(75vh - 140px);">
    <div class="space-y-6">
        <div>
            <h3 class="text-sm font-semibold text-gray-400 uppercase mb-3">LLM Configuration</h3>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Coding LLM</label>
                    <select
                        name="coding_llm_settings_id"
                        class="w-full bg-dark-lighter border border-dark-light rounded-lg px-3 py-2 text-sm"
                        hx-get="/settings/api-key-input"
                        hx-trigger="change"
                        hx-target="#api-key-container"
                        hx-swap="outerHTML">
                        {% for option in llm_options %}
                            <option value="{{ option.id }}" {% if settings.coding_llm_settings_id == option.id %}selected{% endif %}>
                                {{ option.model_name }} - {{ option.provider }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                {% with provider=settings.coding_llm_settings.provider, api_key=settings.coding_llm_settings.api_key %}
                    {% include "settings/partials/api_key_input.html" %}
                {% endwith %}
            </div>
        </div>

        <div>
            <h3 class="text-sm font-semibold text-gray-400 uppercase mb-3">Model Parameters</h3>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Temperature</label>
                    <input type="number" name="coding_llm_temperature" step="0.1" min="0" max="1" value="{{ settings.coding_llm_temperature }}" class="w-full bg-dark-lighter border border-dark-light rounded-lg px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Max History</label>
                    <input type="number" name="max_history_length" value="{{ settings.max_history_length }}" class="w-full bg-dark-lighter border border-dark-light rounded-lg px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Context Window</label>
                    <input type="number" name="coding_llm_settings.context_window" value="{{ settings.coding_llm_settings.context_window }}" class="w-full bg-dark-lighter border border-dark-light rounded-lg px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">AST Token Limit</label>
                    <input type="number" name="ast_token_limit" value="{{ settings.ast_token_limit }}" class="w-full bg-dark-lighter border border-dark-light rounded-lg px-3 py-2 text-sm">
                </div>
            </div>
        </div>
    </div>
</div>